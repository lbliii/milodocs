/* Dropdown Navigation - Dropdown menus for navigation links */

.topbar__dropdown {
  @apply absolute left-0 mt-2 w-52 rounded-xl overflow-hidden 
         shadow-xl p-2 transition-all duration-300;
  /* background-color: var(--color-surface); */
  background: var(--glass-bg);
  /* border: 1px solid var(--color-border-primary); */
  border: 1px solid var(--glass-border-color);
  opacity: 0;
  visibility: hidden;
  transform: translateY(-10px) scale(0.95);
  -webkit-backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
  backdrop-filter: blur(var(--glass-blur)) saturate(var(--glass-saturate));
  /* box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15), 0 0 20px rgba(var(--color-brand-rgb), 0.1), inset 0 1px 0 rgba(255, 255, 255, 0.1); */
  box-shadow: var(--glass-shadow);
}

.group:hover .topbar__dropdown {
  @apply block;
  opacity: 1;
  visibility: visible;
  transform: translateY(0) scale(1);
}

.topbar__dropdown::before {
  content: '';
  position: absolute;
  top: -6px;
  left: 20px;
  width: 12px;
  height: 12px;
  /* background-color: var(--color-surface); */
  background: var(--glass-bg);
  /* border: 1px solid var(--color-border-primary); */
  border: 1px solid var(--glass-border-color);
  border-bottom: none;
  border-right: none;
  transform: rotate(45deg);
  z-index: -1;
}

.topbar__dropdown-link {
  @apply flex items-center px-4 py-3 text-sm rounded-lg 
         transition-all duration-200 focus:outline-none focus:ring-2
         relative overflow-hidden;
  color: var(--color-text-primary);
  --tw-ring-color: var(--color-brand);
  text-decoration: none;
  margin: 2px 0;
}

.topbar__dropdown-link::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    90deg,
    rgba(var(--color-brand-rgb), 0.08) 0%,
    transparent 100%
  );
  opacity: 0;
  transition: opacity var(--timing-fast) var(--easing-standard);
  pointer-events: none;
}

.topbar__dropdown-link:hover,
.topbar__dropdown-link:focus {
  background-color: var(--color-surface-hover);
  color: var(--color-brand);
  transform: translateX(4px);
  border-inline-start: 3px solid var(--color-brand);
  padding-inline-start: calc(1rem - 3px);
}

.topbar__dropdown-link:hover::before,
.topbar__dropdown-link:focus::before {
  opacity: 1;
}