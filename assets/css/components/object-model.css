@layer components {
  /* Object Model Component */
  [data-component="object-model"] {
    /* Align nested option text with summary text start: px-3 + chevron(1rem) + gap(0.5rem) */
    --om-pad-x: 0rem; /* no outer horizontal padding on rows */
    --om-chevron: 1rem;  /* h-4 w-4 */
    --om-gap: 0.5rem;    /* gap-2 */
    --om-indent: calc(var(--om-pad-x) + var(--om-chevron) + var(--om-gap));
  }
  .object-model__title,
  .object-model__heading {
    scroll-margin-top: var(--header-offset);
  }

  .object-model__heading,
  .object-model__subheading {
    color: var(--color-text-primary);
  }

  /* Token-based badge for section headings (replaces hard-coded bg classes) */
  .object-model__heading-badge {
    display: inline-block;
    padding: 0.25rem 0.5rem; /* px-2 py-1 */
    border-radius: 0.5rem;
    background: var(--color-surface);
    border: 1px solid var(--color-border-primary);
    color: var(--color-text-primary);
  }

  .object-model__intro-text,
  .object-model__summary {
    color: var(--color-text-primary);
  }

  .object-model__list {
    /* Borderless, airy list; separation via spacing and summary hover */
    background: transparent;
    border: 0;
    box-shadow: none;
    overflow: visible;
    color: var(--color-text-primary);
    list-style: none;
    padding-left: 0;
  }

  /* Ensure inner text inherits proper token-based colors */
  .object-model__item,
  .object-model__field,
  .object-model__options {
    color: inherit;
  }

  .object-model__details {
    /* Remove default marker for consistent chevron */
  }
  .object-model__details > summary::-webkit-details-marker {
    display: none;
  }
  .object-model__details > summary {
    list-style: none;
  }

  /* Fine tune nested lists */
  .object-model__options {
    /* Use only the explicit padding from markup; remove UA list padding/indent */
    list-style: none;
    padding-inline-start: 0;
    margin-left: 0.5em;
    padding-left: var(--om-indent);
    padding-top: 0.25rem; /* tighter attach under summary */
  }

  /* Override global article nested list indent for this component only */
  .article-content[data-component="object-model"] .object-model__list li,
  .article-content[data-component="object-model"] .object-model__list li li {
    margin-left: 0;
    padding-left: 0;
  }

  /* Ensure summary row has clear focus ring */
  .object-model__summary-row {
    @apply rounded-md outline-none focus-visible:ring-2 focus-visible:ring-indigo-500 dark:focus-visible:ring-indigo-400;
  }

  .object-model__summary-row:hover {
    background-color: rgba(var(--color-brand-rgb), 0.03);
  }

  /* Ensure names/descriptions use token text colors automatically */
  .object-model__name {
    color: var(--color-text-primary);
  }
  .object-model__description {
    color: var(--color-text-primary);
  }

  .object-model__chevron {
    color: var(--color-text-secondary);
  }
  .object-model__dash {
    color: var(--color-border-primary);
  }

  /* Option items typography */
  /* Keys and values color tokens */
  .object-model__option-key code {
    color: var(--color-text-primary);
    font-weight: 600; /* add visual weight to keys */
  }
  .object-model__option-value,
  .object-model__option-value p,
  .object-model__option-value a {
    color: var(--color-text-primary);
  }
  .object-model__option-value { display: inline; margin-left: 0.375rem; }
  .object-model__option-value p { display: inline; margin: 0; }
  .object-model__option-value a:hover { color: var(--color-brand); }

  /* Option item in normal inline flow (avoid flex to prevent text splitting into multiple flex items) */
  .object-model__option-item {
    display: block;
    padding: 0.125rem 0;
    font-size: 0.875rem; /* text-sm */
    line-height: 1.45;
  }
  .object-model__option-key {
    color: var(--color-text-secondary);
    white-space: nowrap;
  }
  .object-model__option-value {
    color: var(--color-text-primary);
  }

  /* Strong label variant (for legacy markup without key/value wrappers) */
  .object-model__option-item > strong { 
    margin-right: 0.375rem; 
    font-weight: 600; 
  }
  .object-model__option-item code { 
    white-space: nowrap; 
  }

  /* Compact spacing for rows in dense lists */
  .object-model__row,
  .object-model__summary-row {
    @apply py-1.5 md:py-2;
  }

  .object-model__details:not([open]) .object-model__summary-row { box-shadow: none; }
  .object-model__details[open] .object-model__summary-row { box-shadow: none; }

  /* Soft separation between items without borders */
  .object-model__item + .object-model__item { margin-top: 0.25rem; }
}


