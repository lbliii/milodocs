{{/* Only show breadcrumbs if we have ancestors */}}
{{- $ancestors := .Ancestors.Reverse -}}
{{- if gt (len $ancestors) 1 -}}
<nav aria-label="Breadcrumb" class="breadcrumb flex flex-wrap text-xs px-2 items-center md:px-4" role="navigation" data-component="navigation-breadcrumbs">
  <ol class="flex space-x-2 md:space-x-4 lg:space-x-6" itemscope itemtype="https://schema.org/BreadcrumbList">
    {{- range $index, $ancestor := after 1 $ancestors -}}
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
        <a href="{{ .Permalink }}" 
           class="text-black px-2 py-1 md:px-4 md:py-2 lg:px-6 rounded shadow-md block tile transition duration-300 hover:shadow-lg focus:ring-2 focus:ring-blue-500 focus:outline-none" 
           itemprop="item"
           aria-label="Navigate to {{ .Title }}">
          <span itemprop="name">{{ .Title | truncate 15 "…" }}</span>
        </a>
        <meta itemprop="position" content="{{ add $index 1 }}" />
        {{/* Add visual separator */}}
        <span class="mx-2 text-gray-400" aria-hidden="true">›</span>
      </li>
    {{- end -}}
    
    {{/* Current page */}}
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <span class="text-black px-2 py-1 md:px-4 md:py-2 lg:px-6 rounded shadow-md block tile bg-gray-100 font-medium" 
            aria-current="page"
            itemprop="item">
        <span itemprop="name">{{ .Title | truncate 15 "…" }}</span>
      </span>
      <meta itemprop="position" content="{{ len $ancestors }}" />
    </li>
  </ol>
</nav>
{{- end -}}
