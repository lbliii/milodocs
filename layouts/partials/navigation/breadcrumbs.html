{{/* Only show breadcrumbs if we have ancestors */}}
{{- $ancestors := .Ancestors.Reverse -}}
{{- if gt (len $ancestors) 1 -}}
<nav aria-label="Breadcrumb" class="breadcrumb" role="navigation" data-component="navigation-breadcrumbs">
  <ol class="flex flex-wrap items-center text-sm" itemscope itemtype="https://schema.org/BreadcrumbList">
    {{- range $index, $ancestor := after 1 $ancestors -}}
      <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem" class="flex items-center">
        <a href="{{ .Permalink }}" 
           class="breadcrumb-link" 
           itemprop="item"
           aria-label="Navigate to {{ .Title }}">
          <span itemprop="name">{{ .Title | truncate 20 "…" }}</span>
        </a>
        <meta itemprop="position" content="{{ add $index 1 }}" />
        {{/* Add visual separator */}}
        <span class="breadcrumb-separator" aria-hidden="true">›</span>
      </li>
    {{- end -}}
    
    {{/* Current page */}}
    <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
      <span class="breadcrumb-current" 
            aria-current="page"
            itemprop="item">
        <span itemprop="name">{{ .Title | truncate 20 "…" }}</span>
      </span>
      <meta itemprop="position" content="{{ len $ancestors }}" />
    </li>
  </ol>
</nav>
{{- end -}}
