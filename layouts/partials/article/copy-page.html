{{/* Copy Page Component - Share page functionality with LLM integration */}}
<div class="article-header__copy-page relative" data-component="copy-page">
  <button 
    class="article-header__copy-toggle" 
    type="button"
    aria-expanded="false"
    aria-haspopup="true"
    data-copy-page-toggle>
    <span class="article-header__copy-text">Share</span>
    <svg class="article-header__copy-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
    </svg>
    <svg class="article-header__copy-arrow" fill="none" stroke="currentColor" viewBox="0 0 24 24" data-dropdown-arrow>
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
    </svg>
  </button>
  
  {{/* Dropdown Menu */}}
  <div 
    class="article-header__copy-dropdown"
    data-copy-page-dropdown
    data-state="hidden">
    <div class="article-header__copy-dropdown-content">
      {{/* Copy URL */}}
      <button 
        class="copy-page-menu-item"
        data-copy-url="{{ .Permalink }}">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1"></path>
        </svg>
        Copy URL
      </button>
      
      {{/* LLM-optimized plain text (index.txt) */}}
      {{/* Normalize base URL: remove trailing slash and .html for uglyURLs */}}
      {{ $noSlash := (replaceRE "/$" "" .Permalink) }}
      {{ $base := (replaceRE "\\.html$" "" $noSlash) }}
      {{ $txt := (printf "%s/index.txt" $base) }}
      <a 
        href="{{ $txt }}"
        target="_blank"
        rel="noopener noreferrer"
        class="copy-page-menu-item"
        data-open-txt>
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v12m6-6H6"></path>
        </svg>
        Open LLM text
      </a>
      <button 
        class="copy-page-menu-item"
        data-copy-txt="{{ $txt }}">
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
        </svg>
        Copy LLM text
      </button>

      {{/* Copy Content */}}
      <button 
        class="copy-page-menu-item"
        data-copy-content>
        <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
        </svg>
        Copy content
      </button>
      
      <hr class="copy-page-separator">
      
      {{/* Share with LLMs */}}
      <div class="copy-page-section-header">
        Share with AI
      </div>
      
      {{/* Claude */}}
      <a 
        {{ if ne hugo.Environment "offline" }}href="https://claude.ai/chat?q=Please%20help%20me%20understand%20this%20documentation%3A%20{{ .Permalink | urlquery }}"{{ end }}
        target="_blank"
        rel="noopener noreferrer"
        class="copy-page-menu-item">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2L2 7v10l10 5 10-5V7l-10-5z"/>
        </svg>
        Ask Claude
      </a>
      
      {{/* ChatGPT */}}
      <a 
        {{ if ne hugo.Environment "offline" }}href="https://chat.openai.com/?q=Please%20help%20me%20understand%20this%20documentation%3A%20{{ .Permalink | urlquery }}"{{ end }}
        target="_blank"
        rel="noopener noreferrer"
        class="copy-page-menu-item">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.888 4.36a5.99 5.99 0 0 0-2.907 6.507 6.018 6.018 0 0 0 .517 4.91 6.05 6.05 0 0 0 6.51 2.9A6.065 6.065 0 0 0 19.376 16.64a5.99 5.99 0 0 0 2.907-6.507l-.001-.312z"/>
        </svg>
        Ask ChatGPT
      </a>
      
      {{/* Copilot */}}
      <a 
        {{ if ne hugo.Environment "offline" }}href="https://copilot.microsoft.com/?q=Please%20help%20me%20understand%20this%20documentation%3A%20{{ .Permalink | urlquery }}"{{ end }}
        target="_blank" 
        rel="noopener noreferrer"
        class="copy-page-menu-item">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12.5 2C8.9 2 6 4.9 6 8.5c0 1.2.3 2.3.8 3.3L12 21l5.2-9.2c.5-1 .8-2.1.8-3.3C18 4.9 15.1 2 11.5 2z"/>
        </svg>
        Ask Copilot
      </a>
    </div>
  </div>
</div>