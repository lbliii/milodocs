{{- define "top-bar" -}}
  {{- partial "navigation/topbar/main.html" . -}}
{{- end -}}

{{- define "sidebar-left" -}}
  {{- partial "navigation/sidebar-left.html" . -}}
{{- end -}}

{{- define "breadcrumbs" -}}
  <div class="my-4">
      {{partial "article/header.html" . }}
  </div>
{{- end -}}

{{ define "content" }}
  <article class="prose max-w-5xl">
    {{/* Content status warnings */}}
    {{- if site.Params.article.statusWarnings.display -}}
      {{- partial "article/status-warnings.html" . -}}
    {{- end -}}

    <header class="mb-8 not-prose">
      {{/* Only show frontmatter title if content doesn't start with H1 */}}
      {{- $rawContent := .RawContent -}}
      {{- $startsWithH1 := hasPrefix (strings.TrimSpace $rawContent) "# " -}}
      {{- if not $startsWithH1 -}}
        <h1 class="text-3xl font-bold text-black mb-4">{{ .Title }}</h1>
      {{- end -}}
      
      {{- with .Description -}}
        <p class="text-lg text-gray-700 leading-relaxed">{{ . }}</p>
      {{- end -}}
    </header>

    {{/* Inline Table of Contents */}}
    {{- if site.Params.article.inlineToc.display -}}
      {{- partial "article/table-of-contents.html" . -}}
    {{- end -}}

    <div id="articleContent" class="article-content">
      {{ .Content }}
    </div>
    
    {{- with .Params.tags -}}
      <footer class="mt-8 pt-6 border-t not-prose">
        <div class="flex flex-wrap gap-2">
          {{- range . -}}
            <span class="inline-block bg-gray-100 text-gray-700 px-3 py-1 rounded-full text-sm">
              {{ . }}
            </span>
          {{- end -}}
        </div>
      </footer>
    {{- end -}}
    
    {{/* Page Resources */}}
    {{- if site.Params.article.pageResources.display -}}
      {{- partial "article/page-resources.html" . -}}
    {{- end -}}
    
    {{/* Related Content Section */}}
    {{- if site.Params.article.relatedContent.display -}}
      {{- partial "article/related-content.html" . -}}
    {{- end -}}
  </article>
{{ end }}

{{ define "innerFooter" }}
  <div class="p-4">
    {{partial "article/next-prev.html" . }}
  </div>
{{ end }}

{{- define "sidebar-right" -}}
  {{- partial "navigation/sidebar-right.html" . -}}
{{- end -}}