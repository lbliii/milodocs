<!DOCTYPE html>
<html lang="{{ or site.Language.LanguageCode site.Language.Lang }}" dir="{{ or site.Language.LanguageDirection `ltr` }}" class="no-js">
<head>
  {{ partial "head.html" . }}
</head>
<body class="bg-bg-primary antialiased" 
      data-environment="{{ hugo.Environment }}" 
      data-theme="{{ site.Params.theme.mode | default "light" }}"
      data-build="{{ cond (or hugo.IsProduction (in (slice "nvidia" "enterprise" "open-source") hugo.Environment)) "production" "development" }}"
      data-version="{{ site.Params.version.major | default 0 }}.{{ site.Params.version.minor | default 0 }}.{{ site.Params.version.patch | default 0 }}"
      {{- if site.Params.debug }} data-debug="true"{{- end }}>
  <header>
    {{- partial "header.html" . -}}
  </header>
  {{- block "top-bar" . -}}{{- end -}}
  <main class="w-full px-4 sm:px-6 lg:px-8 xl:px-0 transition-all duration-300 ease-in-out xl:grid xl:grid-cols-[18rem_minmax(0,1fr)_22rem] xl:gap-8 2xl:grid-cols-[20rem_minmax(0,1fr)_28rem] 2xl:gap-16">
    <!-- Left sidebar (present at all sizes; handles mobile off-canvas + xl sticky itself) -->
    {{- block "sidebar-left" . -}}{{- end -}}
    <div id="pageContainer" class="p-4 w-full md:flex-1 min-w-0 mx-auto max-w-3xl xl:max-w-4xl 2xl:max-w-5xl xl:px-8 2xl:px-12">
      <!-- Loading skeleton for initial page load -->
      <div id="pageLoadingSkeleton" class="hidden space-y-4">
        <div class="h-8 bg-gray-200 rounded content-skeleton animate-pulse"></div>
        <div class="space-y-2">
          <div class="h-4 bg-gray-200 rounded content-skeleton animate-pulse"></div>
          <div class="h-4 bg-gray-200 rounded w-5/6 content-skeleton animate-pulse"></div>
          <div class="h-4 bg-gray-200 rounded w-4/6 content-skeleton animate-pulse"></div>
        </div>
        <div class="h-6 bg-gray-200 rounded w-3/4 content-skeleton animate-pulse"></div>
      </div>
      
      <!-- Main content area -->
      <div id="mainContent" class="transition-opacity duration-300">
        {{- if and (eq .Kind "page") (ne hugo.Environment "offline") -}}{{- partial "article/summarization.html" . -}}{{- end -}} 
        {{- if .IsHome}}{{ block "home" . }}{{ end }}{{- end}} 
        {{ block "breadcrumbs" . }}{{- end -}}
        {{ block "content" . }}{{- end -}}
        {{ block "innerFooter" . }}{{- end -}}
      </div>
    </div>
    {{- partial "searchResultsContainer.html" . -}}
    <!-- Right sidebar column (xl+) -->
    <div class="hidden xl:block">
      {{- block "sidebar-right" . -}}{{- end -}}
    </div>
  </main>
  <footer>
    {{- partial "footer.html" . -}}
  </footer>
  

</body>
</html>
