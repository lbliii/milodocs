<!DOCTYPE html>
<html lang="{{ or site.Language.LanguageCode site.Language.Lang }}" dir="{{ or site.Language.LanguageDirection `ltr` }}">
<head>
  {{ partial "head.html" . }}
</head>
<body class="bg-white">
  <header>
    {{- partial "header.html" . -}}
  </header>
  {{- block "top-bar" . -}}{{- end -}}
  <main class="2xl:max-w-screen-2xl p-2 mx-auto flex transition-all duration-300 ease-in-out">
    {{- block "sidebar-left" . -}}{{- end -}}
    <div id="pageContainer" class="p-4 w-full md:w-3/5 mx-auto page-transition-enter-active">
      <!-- Loading skeleton for initial page load -->
      <div id="pageLoadingSkeleton" class="hidden space-y-4">
        <div class="h-8 bg-gray-200 rounded content-skeleton animate-pulse"></div>
        <div class="space-y-2">
          <div class="h-4 bg-gray-200 rounded content-skeleton animate-pulse"></div>
          <div class="h-4 bg-gray-200 rounded w-5/6 content-skeleton animate-pulse"></div>
          <div class="h-4 bg-gray-200 rounded w-4/6 content-skeleton animate-pulse"></div>
        </div>
        <div class="h-6 bg-gray-200 rounded w-3/4 content-skeleton animate-pulse"></div>
      </div>
      
      <!-- Main content area -->
      <div id="mainContent" class="transition-opacity duration-300">
        {{- if eq .Kind "page" -}}{{- partial "article/summarization.html" . -}}{{- end -}} 
        {{- if .IsHome}}{{ block "home" . }}{{ end }}{{- end}} 
        {{ block "breadcrumbs" . }}{{- end -}}
        {{ block "content" . }}{{- end -}}
        {{ block "innerFooter" . }}{{- end -}}
      </div>
    </div>
    {{- partial "searchResultsContainer.html" . -}}
    {{- block "sidebar-right" . -}}{{- end -}}
  </main>
  <footer>
    {{- partial "footer.html" . -}}
  </footer>
</body>
</html>
